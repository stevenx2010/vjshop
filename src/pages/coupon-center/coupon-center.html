<!--
  Generated template for the CouponCenterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    	<ion-title>领券中心</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<ion-grid>
		<ion-row *ngFor="let type of couponTypes; let i = index;">
			<ion-col col-12>
				<ion-card>
					<ion-card-header>
						<div align="center">{{type?.type}} </div>
					</ion-card-header>
					<ion-list class="coupon">
						<ion-row *ngFor="let coupon of couponsByType[i]; let j = index;">
							<ion-col col-12  *ngIf="!coupon.expired">
								<img src="{{baseUrl}}{{coupon?.image_url}}">
							
								<button ion-fab mini class="take" color="light" (click)="takeCoupon(i,j)" disabled="{{coupon.btn_disabled}}"> 领取</button>

								<button ion-button outline color="alert" class="takenIOs" [style.z-index]="coupon.z_index" showWhen="ios">已领取</button>
								<button ion-button outline color="alert" class="takenMD" [style.z-index]="coupon.z_index" showWhen="android">已领取</button>
							</ion-col>
					</ion-row>
					</ion-list>
				</ion-card>
			</ion-col>
		</ion-row>
	</ion-grid>

</ion-content>

<style>

	* {

	}

	ion-header * {
		margin: 0;
		padding: 0;
		border: none;
	}

	ion-header ion-row {
		align-items: center;
	}

	ion-header div {
		font-size: 2.5rem;
	}

	ion-content ion-row {
		align-items: center;
	}

	.take {
		z-index: 2;
		position: absolute;
		left: 80%;
		top: 18%;
	}

	ion-content {
		background-color: #efefef;
	}

	.takenIOs {
		z-index: -1;
		position: absolute;
		left: 35%;
		top: 17%;
	}

	.takenMD {
		z-index: -1;
		position: absolute;
		left: 38%;
		top: 23%;
	}

</style>