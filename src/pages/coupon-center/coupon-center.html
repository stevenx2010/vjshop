<!--
  Generated template for the CouponCenterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    	<ion-title>领券中心</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
	<div *ngFor="let type of couponTypes; let i = index;">
		<ion-card>
			<ion-card-header>
				<div align="center">{{type?.type}} </div>
			</ion-card-header>
			<ion-list class="coupon">
				<ion-row *ngFor="let coupon of type?.coupons; let j = index;">
					<ion-col col-12  *ngIf="!coupon?.expired">
						<div>
							<img src="{{baseUrl}}{{coupon?.image_url}}">
						
							<button ion-fab mini class="take" color="primary" (click)="takeCoupon(i,j)" 
								disabled="{{coupon?.btn_disabled}}">
								<span class="take-text1" *ngIf="!coupon.btn_disabled">领取</span>
								<span class="take-text2" *ngIf="coupon.btn_disabled">已领取</span>
							</button>
							<div class="backdrop" [style.z-index]="coupon?.z_index"></div>
						</div>
					</ion-col>
			</ion-row>
			</ion-list>
		</ion-card>
	</div>

</ion-content>

<style>

	* {

	}

	ion-header * {
		margin: 0;
		padding: 0;
		border: none;
	}

	ion-header ion-row {
		align-items: center;
	}

	ion-header div {
		font-size: 2.5rem;
	}

	ion-content ion-row {
		align-items: center;
	}

	.take {
		z-index: 2;
		position: absolute;
		left: 80%;
		top: 18%;
	}

	.backdrop {
		position: absolute;
		top: 5px;
		left: 5px;
		bottom: 5px;
		right: 5px;
		background-color: rgba(255,255,255,0.3);
		z-index: -1;
	}

	.take-text1 {
		font-size: 1.2rem;
	}

	.take-text2 {
		font-size: 1rem;
	}

	ion-card {
		background-color: #dfdfdf;
	}

</style>